#summary Setup instructions for AO

_Below are high-level instructions. The links below should provide you with info to forge ahead. Some of this setup is platform-specific, so google around and if you still are stuck email neil AT awaaz DOT de. If you are setting up on Ubuntu 10.04 LTS (recommended), then you may benefit from these ill-formatted by quite detailed install guides: [http://awaaz.de/docs/AD_IVR_install_guide.pdf IVR] and [http://awaaz.de/docs/AD_web_app_install_guide.pdf Web App] (thanks to Jigar for creating these)_

== Web Components ==
  # Install Python, Java SDK, MySQL
  # Install Django
  # Install wadofstuff Django serializers
  # Install mysqldb python module
  # Create a mysql database called 'otalo', and a user 'otalo' and password 'otalo' with all privileges to it.

== Dev Environment ==
  # Setup web components above
  # Install Eclipse
  # Install [http://subclipse.tigris.org/servlets/ProjectProcess?pageID=p4wYuA Subclipse eclipse plugin]
  # Install [http://code.google.com/eclipse/docs/getting_started.html GWT eclipse plugin]
  # Checkout gwt folder from the repository (trunk/web/). You can follow the instructions [http://blog.msbbc.co.uk/2007/06/using-googles-free-svn-repository-with.html here]. Be sure to check out the code as a GWT project and name it 'ao' with package name 'org.otalo.ao'.
  # Checkout trunk/web/django into a new project ao_server. Optionally use [http://pydev.org/download.html python project plugin]
  # Checkout trunk/IVR into a new project ao_IVR. Optionally use [http://luaeclipse.luaforge.net/manual.html#installation lua plugin], v.1.1 works on Helios

== IVR ==
  # Download and install FreeSWITCH, with mod_shout enabled
  # Download and install lua and luasql
  # Open ports 5060, 5080 tcp and udp in server firewall (for centOS, use /sbin/iptables command)
  # Checkout trunk/IVR and drop the directory into /usr/local/freeswitch/scripts/AO (i.e. call the downloaded directory 'AO')
  # In FreeSWITCH's conf/dialplan/default directory, create a new dialplan for AO. Call it something like 001_otalo.xml, and make it look like this:

{{{
<extension name="incoming">
        <condition field="destination_number" expression="^30142000$">
            <action application="lua" data="AO/otalo.lua" />
        </condition>
 </extension>
}}}

The 'expression' attribute should correspond to your inbound PRI number or SIP extension (i.e. '5000', but make sure no other app is taking that extension (including in /dialplan/default.xml)). Default user ids are 1000, 1001, 1002, all with password 1234

== Web Server ==
  # Setup web components above
  # Checkout trunk/web and place the code in a place you are comfortable with web server accessing it (a good place is /home/<userid>/otalo). You can place the gwt and django_templates folders in /var/www/html.
  # In the django (or 'otalo') directory, run 'python manage.py syncdb' to setup the mysql tables. Run 'python manage.py loaddata production.json' and 'python manage.py loaddata tags.json' to seed the tables.
  # Install and configure mod_wsgi for your apache server
  # setup django project to interface with wsgi using [http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango these instructions]
  # Be sure that the paths in django.wsgi, settings.py, and the paths in your apache config file are all matched up